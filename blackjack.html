<!DOCTYPE html>
<head>

</head>
<body>
<h2>Dealer hand</h2>
<div id="dealer-hand"></div>
<div id="dealer-hand-value"></div>
<h2>Player hand</h2>
<div id="player-hand"></div>
<div id="player-hand-value"></div>
<div id="game-status"></div>
<button onclick="hit()">More!</button>
<button onclick="stand()">Stand.</button>
<script>
    var deck = [2,3,4,5,6,7,8,9,10,10,10,10,11,
                2,3,4,5,6,7,8,9,10,10,10,10,11,
                2,3,4,5,6,7,8,9,10,10,10,10,11,
                2,3,4,5,6,7,8,9,10,10,10,10,11];
    var playerHand = [];
    var dealerHand = [];
        
function drawRandomCard(deck)
    {
        var randomIndex = Math.floor(deck.length * Math.random());
        return deck[randomIndex];
    }

    function startGame()
    {
        playerHand = [drawRandomCard(deck), drawRandomCard(deck)];
        dealerHand = [drawRandomCard(deck), drawRandomCard(deck)];
    }

    function getHandValue(hand)
    {
        var sum = 0;
        for(var i = 0; i < hand.length; i++)
        {
            sum += hand[i];
        }
        return sum;
    }
    startGame();

    console.log('Player hand: ' + playerHand);
    console.log('Player hand value: ' + getHandValue(playerHand));
    console.log('Dealer hand: ' + dealerHand);
    console.log('Dealer hand value: ' + getHandValue(dealerHand));
    function hit()
    {
        playerHand.push(drawRandomCard(deck));
        console.log('More!');
        console.log('New stack: ' + playerHand);
        console.log('New hand value: ' + getHandValue(playerHand));
        if (getHandValue(playerHand) > 21)
        {
            document.getElementById("player-hand").innerHTML = playerHand;
            document.getElementById("player-hand-value").innerHTML = getHandValue(playerHand);
            document.getElementById("game-status").innerHTML = "<b>See ya in our defichento's casino next time!</b>";
        }
        

    }
    function stand()
    {   
        if (getHandValue(playerHand) > getHandValue(dealerHand))
            {
                document.getElementById("player-hand").innerHTML = playerHand;
                document.getElementById("player-hand-value").innerHTML = getHandValue(playerHand);
                document.write("<strong>Congratulations you played yourself</strong>");
            }
            
            
        else
            {
                document.getElementById("player-hand").innerHTML = playerHand;
                document.getElementById("player-hand-value").innerHTML = getHandValue(playerHand);
                document.write("<strong>See ya in our defichento's casino next time!</strong>");
            }

    }
    document.getElementById("player-hand").innerHTML = playerHand;
    document.getElementById("player-hand-value").innerHTML = getHandValue(playerHand);
    document.getElementById("dealer-hand").innerHTML = dealerHand;
    document.getElementById("dealer-hand-value").innerHTML = getHandValue(dealerHand);

    for(var i = 0; i < dealerHand.length; i++ )
    {
        if (getHandValue(dealerHand) < getHandValue(playerHand))
        {
            dealerHand.push(drawRandomCard(deck));
            document.getElementById("dealer-hand").innerHTML = dealerHand;
            document.getElementById("dealer-hand-value").innerHTML = getHandValue(dealerHand);
        }
    }

    if (getHandValue(playerHand) > getHandValue(dealerHand))
    {
        document.write("<strong>U WIN!!!!</strong>");
    }
</script>
</body>
</html>